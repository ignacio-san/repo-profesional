<!-- proveedores.component.html -->
<section class="section section-project-detail">
  <div class="container project-detail">
    <header class="project-detail-header">
      <a routerLink="/proyectos" class="back-link">Volver a proyectos</a>
      <h1 class="project-detail-title">Portal de Proveedores y Facturas</h1>

      <div class="project-meta-strip">
        <span class="project-meta-tag">Club Le贸n 路 Portal de proveedores</span>
        <span class="project-meta-tag">Autor: Ignacio S谩nchez</span>
        <span class="project-meta-tag">Versi贸n: v1.0.0</span>
      </div>

      <p class="project-detail-subtitle">
        Plataforma web para que proveedores y administradores gestionen facturas, documentos
        fiscales y estatus de pago en un solo lugar. Automatiza la validaci贸n de CFDI, la
        solicitud de documentaci贸n obligatoria y el control de montos por proveedor.
      </p>
    </header>

    <!-- GRID PRINCIPAL -->
    <div class="project-detail-grid">
      <!-- COLUMNA PRINCIPAL -->
      <div class="project-detail-main">
        <!-- RESUMEN -->
        <section class="project-block">
          <div class="project-block-inner">
            <h2>Resumen</h2>
            <p>
              El portal de proveedores permite a cada proveedor cargar sus facturas en formato PDF
              y XML, as铆 como la documentaci贸n requerida para mantenerlos activos en el padr贸n:
              opini贸n de cumplimiento, constancia de situaci贸n fiscal y, en su caso, estado de
              cuenta.
            </p>
            <p>
              El sistema lee el XML de la factura para validar que el RFC, el UUID, el total, el
              m茅todo de pago y la forma de pago coincidan con la informaci贸n capturada. En pagos
              con m茅todo <strong>PPD</strong>, se exige la documentaci贸n adicional y se verifica
              que la factura corresponda al proveedor registrado, reduciendo riesgos de error o
              documentos ap贸crifos.
            </p>
          </div>
        </section>

        <!-- IMPACTO DEL PROYECTO -->
        <section class="project-block">
          <div class="project-block-inner">
            <h2>Impacto del proyecto</h2>
            <ul>
              <li>
                ★Centralizaci贸n de facturas, XML y documentos fiscales por proveedor, facilitando
                auditor铆as y seguimiento.
              </li>
              <li>
                ★Disminuci贸n de rechazos por errores en CFDI gracias a la validaci贸n autom谩tica
                del XML y el PDF.
              </li>
              <li>
                ★Mayor control sobre montos pendientes, pagados y rechazados mediante tableros
                resumidos por estatus.
              </li>
              <li>
                ★Reducci贸n de la comunicaci贸n manual (correos, mensajes) entre proveedores y 谩rea
                administrativa.
              </li>
              <li>
                ★Mejora en el cumplimiento fiscal al exigir y controlar la vigencia de opini贸n de
                cumplimiento y constancia de situaci贸n fiscal.
              </li>
            </ul>
          </div>
        </section>

        <!-- OBJETIVOS -->
        <section class="project-block">
          <div class="project-block-inner">
            <h2>Objetivos del proyecto</h2>
            <ul>
              <li>
                Ofrecer a los proveedores un portal claro para cargar facturas y documentos
                requeridos, con visibilidad de su estatus.
              </li>
              <li>
                Automatizar la validaci贸n de CFDI (RFC, UUID, total, forma/m茅todo de pago) a
                partir de la lectura del XML y el PDF.
              </li>
              <li>
                Diferenciar facturas PUE y PPD, solicitando documentaci贸n adicional cuando se
                trate de pagos en parcialidades.
              </li>
              <li>
                Dotar al equipo administrativo de un tablero consolidado de facturas: nuevas,
                pendientes de pago, pagadas y rechazadas.
              </li>
              <li>
                Mantener un historial completo de facturas y documentos por proveedor para uso
                contable y operativo.
              </li>
            </ul>
          </div>
        </section>

        <!-- RESULTADOS -->
        <section class="project-block">
          <div class="project-block-inner">
            <h2>Resultados</h2>
            <p>
              El portal permiti贸 estandarizar el proceso de recepci贸n de facturas, reduciendo
              tiempos de revisi贸n y aclaraciones con proveedores. Los tableros de resumen brindan
              mayor visibilidad de montos comprometidos, pagos realizados y facturas rechazadas.
            </p>
            <p>
              Adem谩s, el control de documentaci贸n fiscal por proveedor simplifica la preparaci贸n
              para auditor铆as y facilita que el 谩rea de finanzas tenga la informaci贸n actualizada
              sin depender de archivos dispersos o correos aislados.
            </p>
          </div>
        </section>
      </div>

      <!-- ASIDE - FICHA DEL PROYECTO -->
      <aside class="project-detail-aside">
        <div class="project-detail-card">
          <h3>Ficha del proyecto</h3>
          <dl>
            <div class="dl-row">
              <dt>Tipo de soluci贸n</dt>
              <dd>Plataforma web 路 Portal de proveedores y facturas</dd>
            </div>
            <div class="dl-row">
              <dt>Rol</dt>
              <dd>Desarrollador de software 路 Full-stack</dd>
            </div>
            <div class="dl-row">
              <dt>Contexto</dt>
              <dd>
                Gesti贸n de proveedores, recepci贸n de facturas CFDI y control documental para el
                Club Le贸n
              </dd>
            </div>
            <div class="dl-row">
              <dt>Tecnolog铆as</dt>
              <dd>
                Angular 路 TypeScript 路 Bootstrap 路 Firebase / API REST 路 Lectura CFDI XML 路
                Procesamiento de PDFs 路 SweetAlert2
              </dd>
            </div>
          </dl>

          <div class="project-card-tags">
            <span class="project-card-tag">Portal de proveedores</span>
            <span class="project-card-tag">Validaci贸n CFDI</span>
            <span class="project-card-tag">Control de pagos</span>
            <span class="project-card-tag">Documentos fiscales</span>
          </div>
        </div>
      </aside>
    </div>

    <!-- NUEVA FILA 2 COLUMNAS -->
    <section class="project-two-column-row">
      <!-- PARTICIPACIN -->
      <section class="project-block project-block-card project-block-card-accent">
        <div class="project-block-inner">
          <h2>Participaci贸n en el proyecto</h2>
          <ul>
            <li>
              Levantamiento de requisitos con finanzas, compras y proveedores clave para definir
              el flujo de recepci贸n y validaci贸n de facturas.
            </li>
            <li>
              Dise帽o del dashboard de administrador con tarjetas de resumen (total de facturas,
              pendientes, pagadas, rechazadas).
            </li>
            <li>
              Implementaci贸n del flujo de carga de factura PDF y XML, lectura de CFDI y
              validaciones de estructura y datos.
            </li>
            <li>
              Desarrollo de m贸dulos de documentos de proveedor (opini贸n de cumplimiento,
              constancia, estado de cuenta) con vigencia.
            </li>
            <li>
              Configuraci贸n de estados de factura y acciones de aprobar/rechazar con feedback
              visual y mensajes claros al proveedor.
            </li>
            <li>
              Pruebas con facturas reales, ajuste de reglas de negocio y mejoras de UX para
              minimizar errores de captura.
            </li>
          </ul>
        </div>
      </section>

      <!-- MDULOS PRINCIPALES -->
      <section class="project-block project-block-card">
        <div class="project-block-inner">
          <h2>M贸dulos principales</h2>
          <ul>
            <li>
              <strong>Dashboard del administrador:</strong> tarjetas con totales de facturas por
              estatus y accesos r谩pidos a cada vista.
            </li>
            <li>
              <strong>Facturas de proveedores:</strong> tabla con filtros, b煤squeda por raz贸n
              social, descarga de PDF/XML y acciones de aceptar o rechazar.
            </li>
            <li>
              <strong>Subir factura:</strong> formulario para cargar PDF y XML, lectura del CFDI,
              vista previa de datos y confirmaci贸n de carga.
            </li>
            <li>
              <strong>Documentos de proveedores:</strong> secci贸n para que cada proveedor suba su
              opini贸n de cumplimiento, constancia de situaci贸n fiscal y estado de cuenta.
            </li>
            <li>
              <strong>Historial de facturas:</strong> consulta de facturas procesadas por
              proveedor, periodo o estatus, con detalle de observaciones.
            </li>
            <li>
              <strong>Alertas y validaciones:</strong> mensajes de error cuando el XML no
              coincide con el proveedor, el m茅todo de pago no es permitido o falta documentaci贸n
              para PPD.
            </li>
          </ul>
        </div>
      </section>
    </section>

    <!-- GALERA -->
    <section class="project-gallery">
      <h2>Galer铆a</h2>
      <p class="gallery-hint">
        Vistas del dashboard de facturas, listado de proveedores, carga de CFDI, documentos de
        proveedor y detalle de facturas con observaciones.
      </p>

      <div class="gallery-layout">
        <!-- IMAGEN PRINCIPAL -->
        <div class="gallery-main">
          <img
            [src]="activeImage.src"
            [alt]="activeImage.alt"
            class="gallery-main-img"
          />
        </div>

        <!-- MINIATURAS -->
        <div class="gallery-thumbs">
          <ng-container *ngFor="let img of galleryImages; let i = index">
            <button
              *ngIf="i !== activeIndex"
              type="button"
              class="gallery-thumb"
              (click)="setActive(i)"
            >
              <img [src]="img.src" [alt]="img.alt" />
            </button>
          </ng-container>
        </div>
      </div>
    </section>
  </div>
</section>
